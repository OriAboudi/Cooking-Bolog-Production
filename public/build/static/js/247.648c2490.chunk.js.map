{"version":3,"file":"static/js/247.648c2490.chunk.js","mappings":"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","sources":["../node_modules/@heroicons/react/20/solid/esm/LockClosedIcon.js","components/pages/userCMS/login.jsx"],"sourcesContent":["import * as React from \"react\";\n\nfunction LockClosedIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(LockClosedIcon);\nexport default ForwardRef;","import React, { useContext } from 'react'\r\n\r\nimport { LockClosedIcon } from '@heroicons/react/20/solid'\r\nimport { FaUser } from 'react-icons/fa'\r\nimport { useForm } from 'react-hook-form'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useState } from 'react'\r\nimport { MyUsers } from '../../../context/userContext'\r\nimport { LOGIN_URL, TOKEN_KEY } from '../../../constant/constant'\r\nimport { apiPost } from '../../../services/services'\r\n\r\n\r\n\r\nfunction Login() {\r\n    const { getUser } = MyUsers()\r\n    const nav = useNavigate();\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const { register, handleSubmit, formState: { errors } } = useForm()\r\n\r\n    const emailReg = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i\r\n\r\n    const onSub = (data) => {\r\n        console.log(data);\r\n        login(data)\r\n\r\n    }\r\n    const login = async (body) => {\r\n\r\n        try {\r\n            setLoading(true);\r\n            const { data } = await apiPost(LOGIN_URL, body)\r\n            console.log(data);\r\n\r\n            setTimeout(() => {\r\n                if (data.token) {\r\n                    localStorage.setItem(TOKEN_KEY, data.token)\r\n                    if (data.role == 'admin') {\r\n                        nav('/admin')\r\n                    } else {\r\n                        nav('/')\r\n                    }\r\n                }\r\n                if (localStorage.getItem(TOKEN_KEY)) {\r\n                    getUser()\r\n                }\r\n                setLoading(false)\r\n\r\n            }, 1000)\r\n\r\n        } catch (err) {\r\n            \r\n            setError(\"Email Or Password Uncorrect!\");\r\n            // if (err.response.data.arr_msg) {\r\n                \r\n            // }\r\n            setLoading(false);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div style={{ minHeight: \"100vh\" }} className=\"flex min-h-full items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"w-full max-w-md space-y-8 mt-[-100px]\">\r\n                <div className='flex flex-col justify-center'>\r\n                    <FaUser className=' h-8 w-auto lg:block \" ' color='black' size={'30px'} />\r\n                    {/* <img\r\n                        className=\"mx-auto h-12 w-auto\"\r\n                        src=\"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600\"\r\n                        alt=\"Your Company\"\r\n                    /> */}\r\n                    <h2 className=\"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900\">\r\n                        Login to your account\r\n                    </h2>\r\n\r\n                </div>\r\n                <form onSubmit={handleSubmit(onSub)} className=\"mt-8 space-y-6\" action=\"#\" method=\"POST\">\r\n                    <input type=\"hidden\" name=\"remember\" defaultValue=\"true\" />\r\n                    <div className=\"-space-y-px rounded-md  \">\r\n                        <div className='mb-4'>\r\n                            <label htmlFor=\"email-address\" className=\"sr-only\">\r\n                                Email address\r\n                            </label>\r\n                            <input\r\n\r\n\r\n                                className=\"relative block w-full appearance-none  rounded-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\"\r\n                                placeholder=\"Email address\"\r\n                                {...register('email', { required: { value: true, message: \"Email is requierd\" }, minLength: { value: 3, message: 'minimum 3 characters' }, maxLength: { value: 100, message: \"Maximum 100 characters\" }, pattern: { value: emailReg, message: \"Email invalid\" } })}\r\n                            />\r\n                            {errors.email && <p className='text-red-600'>{errors.email.message}</p>}\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"sr-only\">\r\n                                Password\r\n                            </label>\r\n                            <input\r\n                                name=\"password\"\r\n                                autoComplete=\"password\"\r\n                                type=\"password\"\r\n                                className=\"relative block w-full appearance-none  rounded-lg border  border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\"\r\n                                placeholder=\"Password\"\r\n                                {...register('password', { required: { value: true, message: \"password is required\" }, minLength: { value: 3, message: \"minimum 3 characters!\" }, maxLength: { value: 20, message: \"maximum 20 characters!\" } })}\r\n                            />\r\n                            {errors.password && <p className='text-red-600'>{errors.password.message}</p>}\r\n                        </div>\r\n                    </div>\r\n                    {loading && error ? <div className=\"flex items-center\">\r\n                        <img style={{ position: 'absolute', zIndex: '-1' }} width={'80px'} src='https://media4.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif?cid=ecf05e47nogttyy9l1kfcz2ckyo2oot6pkp8dhvia62f9euw&rid=giphy.gif&ct=g' />\r\n                    </div> :\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"flex items-center\">\r\n                                <input\r\n                                    id=\"remember-me\"\r\n                                    name=\"remember-me\"\r\n                                    type=\"checkbox\"\r\n                                    className=\"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500\"\r\n                                />\r\n                                <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-900\">\r\n                                    Remember me\r\n                                </label>\r\n                            </div>\r\n\r\n                            <div className=\"text-sm\">\r\n                                <Link to={\"/users/forgotPassword\"} className=\"font-medium text-bg-gray-800 hover:text-bg-gray-800\">\r\n                                    Forgot your password?\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {/* check the state error and setError */}\r\n\r\n                    {error && <p className='text-red-600'>{error}! </p>}\r\n                    <div>\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"group relative flex w-full justify-center rounded-md border border-transparent bg-gray-800 py-2 px-4 text-sm font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\r\n                        >\r\n                            <span className=\"absolute inset-y-0 left-0 flex items-center pl-3\">\r\n                                <LockClosedIcon className=\"h-5 w-5 text-bg-gray-800 group-hover:text-bg-gray-700\" aria-hidden=\"true\" />\r\n                            </span>\r\n                            Sign in\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Login"],"names":["React","svgRef","title","titleId","props","Object","assign","xmlns","viewBox","fill","ref","id","fillRule","d","clipRule","getUser","MyUsers","nav","useNavigate","useState","loading","setLoading","error","setError","useForm","register","handleSubmit","errors","formState","login","body","apiPost","LOGIN_URL","data","console","log","setTimeout","token","localStorage","setItem","TOKEN_KEY","role","getItem","style","minHeight","className","color","size","onSubmit","action","method","type","name","defaultValue","htmlFor","placeholder","required","value","message","minLength","maxLength","pattern","email","autoComplete","password","position","zIndex","width","src","to"],"sourceRoot":""}